"use strict";var _alphaFloors=["level 1","level 2","level 3","level 3A","level 5","level 6","level 7","level 8","level 9","level 10","level 11","level 12"],_alphaFloorsCode=["01level","02level","03level","04level","05level","06level","07level","08level","09level","10level","11level","12level"],_siteNames=["KLB - Tower 5","KLB - Tower 2A","SUITE"],_roomTypes=["Adjoining Room (Operable Wall)","Panaboard","Polycom CX100 (Audio)","Polycom CX5000 (Video Conferencing)","Projector","Projector Cable Faulty","Projector Faulty","Screen Projector Faulty","SmartBoard 800","Telepresence","TV","Writing Glass Board"];Polymer({is:"semafloor-room-page",properties:{url:{type:String,value:"https://semafloor-webapp.firebaseio.com/json/room-info"},_allSiteCards:{type:Array,value:function(){return _siteNames}},_enteredSite:{type:String,value:"FERN"},_enteredFloor:{type:String,value:"Level 13"},_roomInfo:{type:Array,value:function(){return[]}},_roomsAtEnteredFloor:{type:Array,value:function(){return[]}},_infoAtEnteredRoom:{type:Array,value:function(){return[]}},_isDataReady:{type:Boolean,value:!1},_roomNotReady:{type:Boolean,value:!1}},ready:function(){},attached:function(){var e=this.getBoundingClientRect().width;(this.domHost||Polymer).updateStyles({"--iron-image-height":e/16*9+"px"})},detached:function(){},_onFirebaseValue:function(e){console.log("on-firebase-value"),this.set("_roomInfo",e.detail.val()),this._roomNotReady&&this._decodeRoom(this._enteredFloor.toLowerCase(),this._enteredSite),this.set("_isDataReady",!0),this.$.floorsList.fire("iron-resize"),this.$.roomsList.fire("iron-resize"),this.fire("room-info-ready")},_computeSiteIcon:function(e){return["language","trending-up","group-work"][e]},_computeSiteImage:function(e){var o=["http://www.iphotographies.com/file/133/2560x1440/crop/salar-de-uyuni-after-some-rain.jpg","http://hqworld.net/gallery/data/media/155/camping_under_the_northern_lights__jokulsa_loni__iceland.jpg","http://images.huffingtonpost.com/2014-08-15-dreamstime_xxl_24117047_theBlueHole.jpg","https://hdwallpapers.cat/wallpaper_2560x1440/machu_picchu_peru_at_sunrise_inca_ancient_2560x1440_hd-wallpaper-1776613.jpg","http://static.zerochan.net/5.Centimeters.Per.Second.full.68021.jpg"];return o.splice(e,1),_.sample(o)},_enterSite:function(e){var o=e.model.item;"KLB - Tower 5"===o?(this.set("_enteredSite",o),this.set("_floorsAtEnteredSite",_alphaFloors),this.$.floorDialog.open()):_.isEmpty(this._roomInfo)||_.isUndefined(this._roomInfo)?(this.set("_roomNotReady",!0),this.set("_enteredSite",o),this.set("_enteredFloor","SUITE"===o?"Level 1":"Level 3"),this.$.roomDialog.open()):(this.set("_enteredSite",o),this.set("_enteredFloor","SUITE"===o?"Level 1":"Level 3"),this._decodeRoom("SUITE"===o?"level 1":"level 3",o),this.$.roomDialog.open())},_leaveFloor:function(e){this.$.floorDialog.close()},_enterRoom:function(e){this.set("_enteredFloor",e.model.item),this._decodeRoom(e.model.item,this._enteredSite),this.$.roomDialog.open()},_leaveRoom:function(e){this.$.roomDialog.close()},_enterInfo:function(e){this.set("_infoAtEnteredRoom",[e.model.item]),this.$.infoDialog.open()},_decodeRoom:function(e,o){var t=["alpha","beta","gamma"],l=t[_siteNames.indexOf(o)],r=_alphaFloorsCode[_alphaFloors.indexOf(e)];this.set("_roomsAtEnteredFloor",this._roomInfo[l][r])},_onOpened:function(){var e=parseInt(this.$.roomDialog.style.zIndex)+1;this.$.infoDialog.backdropElement.style.zIndex=e,(this.domHost||Polymer).updateStyles(),this.async(function(){this.$.infoDialog.notifyResize()})},_decodeTypes:function(e){var o=_.padLeft(parseInt(e,16).toString(2),12,0),t=o.split("").map(Number),l=[];return _.filter(t,function(e,o){1===e&&l.push(_roomTypes[o])}),o=null,t=null,l},_computeInfoCls:function(e){var o=_siteNames.indexOf(e),t=["language","trending-up","group-work"][o];return" info-title "+t}});